export default class BaseGame{constructor(config={name:'',edge:.02,pf:null,stats:null}){this.name=config.name;this.edge=config.edge;this.pf=config.pf;this.stats=config.stats}init(){}update(){}destroy(){}async play(bet,chance=.5){const r=await this.pf.roll(this.name);const win=r<chance;const payout=win?bet*(1/chance)*(1-this.edge):0;this.stats.record(this.name,bet,payout);return{r,win,payout:+payout.toFixed(2),chance,edge:this.edge}}}
