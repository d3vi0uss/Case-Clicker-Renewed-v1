export default class StatsSystem{constructor(config={state:null}){this.state=config.state}init(){}update(){}destroy(){}record(game,bet,payout){this.state.patch(s=>{s.stats.wagered+=bet;s.stats.profit+=payout-bet;s.stats.biggestWin=Math.max(s.stats.biggestWin,payout);s.stats.games[game]=(s.stats.games[game]||0)+1;s.wallet+=payout-bet;const rtp=s.stats.wagered?((s.stats.wagered+s.stats.profit)/s.stats.wagered)*100:100;s.stats.rtpSeries.push(+rtp.toFixed(2));if(s.stats.rtpSeries.length>80)s.stats.rtpSeries.shift()})}}
